<!DOCTYPE html>
<html lang="ja">
  <head>
    <title>D</title>
    <meta charset="utf-8">
  </head>
  <body>
    <section id="main">
      保存するKey:<input id="textkey" type="text" />
      保存する値：<input id="textdate" type="text" />
      <button id="button" onclick="setsessionStronge()"保存"</button>
      <button id="button" onclick="removeStorage()">削除</button>
      <button id="button" onclick="removeallStorage()">全て削除</button>
      <table border="1">
        <tr>
          <th>キー</th><th>値</th>
        </tr>
        <tbody id="list">
        </tbody>
      </table>
    </section>
    <script type="text/javascript">
      if(typeof sessionStorage === 'undefined'){
        window.alert("この環境ではweb Storageが使えません");
      }else{
        var storage = sessionStorage;
        //sessionStorageへの格納
        function setsessionStorage(){
          var key =document.getElementByID("textkey").value;
          var value = document.getElementById("textdata").value;
          //値の入力をチェック
          if(key && value){
            storage.setItem(key,value);
          }
          key ="";
          value ="";
          viewStorage();
        }
        //sectionStorageからのデータの取得と表示
        function viewStorage(){
          var list = document.get.ElementById("list")
          while(list.firstChild) list.removeChild(list.firstChild);
          //sessionStorage全ての情報の取得
          for(var i=0; i < storage.length; i++){
            var _key = storage.key(i);
            //sessionStorageのキーと値を表示
            var tr = document.createElement("tr");
            var td1 = document.createElement("td");
            var td2 = document.createElement("td");
            list.appendChild(tr);
            tr.appendChild(td1);
            tr.appendChild(td2);
            td1.innerHTML = _key;
            td2.innerHTML = storage.getItem(_key);
          }
        }
        //sessionStorageから削除
        function removeStorage(){
          var key = document.getElementById("textkey").value;
          storage.removeItem(key);
          key = "";
          viewStorage();
        }
        //sessionStorageからすべて削除
        function removellStorage(){
          storage.clear();
          viewStorage();
        }
        //初回の表示
        viewStorage();
      }
    </script>
  </body>
</html>
